{% extends "base.html" %}

{% block title %}{{ board.name }} ê²Œì‹œê¸€ ê´€ë¦¬ - BO System{% endblock %}

{% block extra_styles %}
<style>
  .board-header {
    background: white;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    margin-bottom: 20px;
  }

  .board-header h2 {
    margin: 0 0 10px 0;
    color: #2c3e50;
  }

  .board-info {
    display: flex;
    gap: 10px;
    margin-top: 15px;
    flex-wrap: wrap;
  }

  .badge {
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: bold;
  }

  .type-korean {
    background: #e8f4fd;
    color: #2980b9;
  }

  .type-guest {
    background: #fef9e7;
    color: #f1c40f;
  }

  .btn-back {
    display: inline-block;
    padding: 8px 16px;
    background: #95a5a6;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    margin-bottom: 20px;
    font-size: 14px;
  }

  .btn-back:hover {
    background: #7f8c8d;
  }

  .btn-write {
    padding: 10px 20px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    text-decoration: none;
    display: inline-block;
  }

  .btn-write:hover {
    background: #2980b9;
  }

  .posts-section {
    background: white;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  }

  .posts-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .empty-posts {
    text-align: center;
    padding: 60px 20px;
    color: #7f8c8d;
  }

  .empty-posts h3 {
    color: #95a5a6;
    margin-bottom: 10px;
  }

  .post-item {
    padding: 15px;
    border-bottom: 1px solid #eee;
    transition: background 0.2s;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .post-item:hover {
    background: #f8f9fa;
  }

  .post-item:last-child {
    border-bottom: none;
  }

  .post-info {
    flex: 1;
  }

  .post-title {
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 5px;
    font-size: 16px;
  }

  .post-meta {
    font-size: 12px;
    color: #95a5a6;
    display: flex;
    gap: 15px;
  }

  .post-actions {
    display: flex;
    gap: 10px;
  }

  .btn-edit {
    padding: 5px 12px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
    text-decoration: none;
  }

  .btn-delete {
    padding: 5px 12px;
    background: #e74c3c;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
    text-decoration: none;
  }

  .btn-edit:hover {
    background: #2980b9;
  }

  .btn-delete:hover {
    background: #c0392b;
  }
</style>
{% endblock %}

{% block content %}
<a href="/admin/board" class="btn-back">â† ê²Œì‹œíŒ ê´€ë¦¬ë¡œ ëŒì•„ê°€ê¸°</a>

<div class="board-header">
  <h2>ğŸ“‹ {{ board.name }} - ê²Œì‹œê¸€ ê´€ë¦¬</h2>
  <div class="board-info">
    <span class="badge {{ 'type-korean' if board.type == 'korean' else 'type-guest' }}">
      {{ 'ì¼ë°˜í˜•' if board.type == 'korean' else 'ë°©ëª…ë¡' }}
    </span>
    <span style="color: #7f8c8d; font-size: 12px;">ê²Œì‹œíŒ ID: {{ board.id }}</span>
  </div>
</div>

<div class="posts-section">
  <div class="posts-header">
    <h3 style="margin: 0">ê²Œì‹œê¸€ ëª©ë¡</h3>
    <a href="/admin/board/{{ board.id }}/write" class="btn-write">âœï¸ ìƒˆ ê¸€ ì‘ì„±</a>
  </div>

  {% if posts %}
  <div>
    {% for post in posts %}
    <div class="post-item">
      <div class="post-info">
        <div class="post-title">
          <a 
            href="/admin/board/{{ board.id }}/post/{{ post.id }}" 
            style="color: #2c3e50; text-decoration: none;"
          >
            {{ post.title }}
          </a>
        </div>
        <div class="post-meta">
          <span>ì‘ì„±ì: {{ post.author or 'ê´€ë¦¬ì' }}</span>
          <span>ì‘ì„±ì¼: {{ post.created_at }}</span>
          <span>ì¡°íšŒìˆ˜: {{ post.views or 0 }}</span>
        </div>
      </div>
      <div class="post-actions">
        <a href="/admin/board/{{ board.id }}/post/{{ post.id }}" class="btn-edit" style="background: #27ae60;">ë³´ê¸°</a>
        <a href="/admin/board/{{ board.id }}/post/{{ post.id }}/edit" class="btn-edit">ìˆ˜ì •</a>
        <a 
          href="/admin/board/{{ board.id }}/post/{{ post.id }}/delete" 
          class="btn-delete"
          onclick="return confirm('ì´ ê²Œì‹œê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')"
        >ì‚­ì œ</a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="empty-posts">
    <h3>ğŸ“­ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤</h3>
    <p>ì²« ë²ˆì§¸ ê²Œì‹œê¸€ì„ ì‘ì„±í•´ë³´ì„¸ìš”!</p>
    <a href="/admin/board/{{ board.id }}/write" class="btn-write" style="margin-top: 15px;">âœï¸ ì²« ê¸€ ì‘ì„±í•˜ê¸°</a>
  </div>
  {% endif %}
</div>
{% endblock %}

